---
import HeaderLink from './HeaderLink.astro';
import { SITE_TITLE } from '../config';
---

<header class="sticky top-0 flex-none backdrop-blur-sm bg-background/95">
	<div class="mx-auto py-4 px-3 max-w-6xl md:flex md:justify-between">
		<div class="py-3 flex justify-between">
			<h2 class="text=x1 md:text-lg">
				{SITE_TITLE}
			</h2>
			<div id="phoneMenu" class="flex items-center md:hidden">
				<button id="menuButton" class="p-2" type="button">
					<iconify-icon icon="mdi:menu" style="color: white;" width="24" height="24"></iconify-icon>
				</button>
			</div>
		</div>
		<nav id="MainNav" class="w-full md:w-auto md:flex items-center hidden">
			<ul class="flex flex-col md:flex-row text-xl">
				<HeaderLink id="navButton" href="#about">About</HeaderLink>
				<HeaderLink id="navButton" href="#background">Background</HeaderLink>
				<HeaderLink id="navButton" href="#projects">Projects</HeaderLink>
				<HeaderLink id="navButton" href="/">Contact</HeaderLink>
				<HeaderLink href="https://github.com/SecondOccurrence" target="_blank">
					<iconify-icon class="pt-0.5 2xl:pt-1.5" icon="mdi:github" style="color: white;" width="24" height="24"></iconify-icon>
				</HeaderLink>
			</ul>
		</nav>
	</div>
</header>
<script>
    document.querySelector('#menuButton')?.addEventListener('click', () => {
      document.querySelector('#MainNav')?.classList.toggle('hidden');
			if(document.querySelector('header')?.classList.contains('bg-background/95'))
			{
				document.querySelector('header')?.classList.remove('bg-background/95');
				document.querySelector('header')?.classList.add('bg-background');
			}
			else
			{
				document.querySelector('header')?.classList.add('bg-background/95');
				document.querySelector('header')?.classList.remove('bg-background');
			}
	  	document.querySelector('header')?.classList.toggle('h-screen');
    });

	const buttons = document.querySelectorAll('#navButton');

	buttons.forEach((button) =>
	{
		button.addEventListener('click', () =>
		{
			if(!document.querySelector('#phoneMenu')?.classList.contains('hidden'))
			{
				document.querySelector('#MainNav')?.classList.add('hidden');
				document.querySelector('header')?.classList.remove('h-screen');
			}
		});
	});
</script>
<style>
	.fa-brightness{color: white;}
</style>